<#-- 全局变量 --> 
<#global ctx="${(ctp.contextPath)!''}"> 

<!-- 页头  -->
<#macro head title keywords description>
<!DOCTYPE html>
<html>
    <head>
        <title>${title}</title>
        <meta name="keywords" content="${keywords}" />
        <meta name="description" content="${description}" />
        <meta charset="utf-8">
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" /> 
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="format-detection" content="telephone=no" />
        <script type="text/javascript">
            var ctx="${ctx}";
            var springraintoken="${springraintoken!''}";
        </script>
</#macro>

<!-- 系统、站点后台通用宏内容  -->
<#macro commonHeadContent>
	<!--20170413 新增样式导入 -->
		<link rel="stylesheet" type="text/css" href="${ctx}/css/web-static/bootstrap/css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="${ctx}/css/web-static/font-awesome/css/font-awesome.min.css"/>
		<link rel="stylesheet" type="text/css" href="${ctx}/css/web-static/build/css/custom.min.css"/>
		
			
		<!-- iCheck表单美化插件 -->
    	<link href="${ctx}/css/web-static/iCheck/skins/flat/green.css" rel="stylesheet">
    	<!-- Datatables table美化插件 -->
	    <link href="${ctx}/css/web-static/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
	    <link href="${ctx}/css/web-static/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
	    <link href="${ctx}/css/web-static/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
	    <link href="${ctx}/css/web-static/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
	    <link href="${ctx}/css/web-static/datatables.net-scroller-bs/css/scroller.bootstrap.min.css" rel="stylesheet">
		
		<link rel="stylesheet" type="text/css" href="${ctx}/css/web-static/xiao/css/xiao-style.css"/>
	<!-- 新增样式end -->
		<script src="${ctx}/js/jquery/jquery.min.js"></script>
    <script src="${ctx}/js/cache/locache.min.js"></script>
    <!-- layui -->
    <script src="${ctx}/layui/layui.js"></script>
    <!-- 自定义公共js -->
   
    <!-- ztree -->
    <link rel="stylesheet"
	href="${ctx}/js/ztree/css/zTreeStyle/zTreeStyle.css"
	type="text/css">
	<script type="text/javascript" src="${ctx}/js/ztree/js/jquery.ztree.all-3.5.js"></script>
	<script src="${ctx}/js/custom/common/springrain.js"></script>
</#macro>

<!-- 内容页面通用头部,该宏包含一些通用js、css，适合业务页面使用，不适用与登陆注册等非业务页面。  -->
<#macro commonHead title keywords description>
    <@h.head title="${title}" keywords="${keywords}" description="${description}"/>
    <@h.commonHeadContent/>
    <script src="${ctx}/js/custom/common/common.js"></script>
</#macro>

<!-- 站长后台通用头部  -->
<#macro siteCommonHead title keywords description>
    <@h.head title="${title}" keywords="${keywords}" description="${description}"/>
    <@h.commonHeadContent/>
    <script src="${ctx}/js/custom/common/common.js"></script>
</#macro>



<!-- 头部横向导航  -->
<#macro naviHeader>
	<!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
            <nav>
              <div class="nav toggle">
                <a id="menu_toggle"><i class="fa fa-bars"></i></a>
              </div>

              <ul class="nav navbar-nav navbar-right">
                <li class="">
                  <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <img src="${ctx}/img/userimg.jpg" alt=""><@shiro.principal property="name" />
                    <span class=" fa fa-angle-down"></span>
                  </a>
                  <ul class="dropdown-menu dropdown-usermenu pull-right">
                    <li><a href="javascript:springrain.goTo('${ctx}/system/user/modifiypwd/pre');" data-tab="true" data-url="user.html"> 修改密码</a></li>
                    <li>
                      <a href="javascript:;">
                        <span class="badge bg-red pull-right">50%</span>
                        <span>Settings</span>
                      </a>
                    </li>
                    <li><a href="javascript:;">Help</a></li>
                    <li><a href="javascript:exit();"><i class="fa fa-sign-out pull-right"></i> 退出</a></li>
                  </ul>
                </li>

                <li role="presentation" class="dropdown">
                  <a href="javascript:;" class="dropdown-toggle info-number" data-toggle="dropdown" aria-expanded="false">
                    <i class="fa fa-envelope-o"></i>
                    <span class="badge bg-green">6</span>
                  </a>
                  <ul id="menu1" class="dropdown-menu list-unstyled msg_list" role="menu">
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <div class="text-center">
                        <a>
                          <strong>See All Alerts</strong>
                          <i class="fa fa-angle-right"></i>
                        </a>
                      </div>
                    </li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->
</#macro>


<!-- 左侧菜单  -->
<#macro leftMenu>
	<div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="${ctx}/system/index?springraintoken=${springraintoken}" class="site_title" style="text-align: center;padding-left: 0;">代理管理系统</a>
            </div>

            <div class="clearfix"></div>

            <!-- menu profile quick info -->
            <div class="profile clearfix">
              <div class="profile_pic">
                <img src="${ctx}/img/userimg.jpg" alt="..." class="img-circle profile_img">
              </div>
              <div class="profile_info">
                <span>Welcome,</span>
                <h2><@shiro.principal property="name" /></h2>
              </div>
            </div>
            <!-- /menu profile quick info -->

            <br />

            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
              <div class="menu_section">
                <ul id="aside-menu" class="nav side-menu">
                 	
                </ul>
              </div>
            </div>
            <!-- /sidebar menu -->

            <!-- /menu footer buttons -->
            <div class="sidebar-footer hidden-small">
              <a data-toggle="tooltip" data-placement="top" title="Settings">
                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="FullScreen">
                <span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Lock">
                <span class="glyphicon glyphicon-eye-close" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Logout" href="login.html">
                <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
              </a>
            </div>
            <!-- /menu footer buttons -->
          </div>
    </div>
</#macro>





<!-- 页脚  -->
<#macro footer>
      <!-- footer content -->
       <!--  <footer>
          <div class="pull-right">

          </div>
          <div class="clearfix"></div>
        </footer> -->
         <div class="pull-right footer">

          </div>
          <div class="clearfix"></div>
        
        
        <div class="site-tree-mobile layui-hide">
          <i class="layui-icon">&#xe602;</i>
        </div>
        <div class="site-mobile-shade"></div>
        <!-- /footer content -->
	     <!-- 20170413 新增js -->
			<!-- jQuery -->
		    <!-- <script src="${ctx}/css/web-static/jquery/jquery.min.js"></script> -->
		    <script src="${ctx}/js/jquery/jquery.min.js"></script>
			<!-- Bootstrap -->
	    	<script src="${ctx}/css/web-static/bootstrap/js/bootstrap.min.js"></script>
	    	<!-- Custom Theme Scripts -->
	    	<script src="${ctx}/css/web-static/build/js/custom.js"></script>
	    	<script src="${ctx}/js/cache/locache.min.js"></script>
	    	<!-- layui -->
    		<script src="${ctx}/layui/layui.js"></script>
    		<script type="text/javascript" src="${ctx}/js/validform/validform.min.js"></script>
    		<!--自定义公共js-->
    		<script type="text/javascript" src="${ctx}/js/ztree/js/jquery.ztree.all-3.5.js"></script>
			<script src="${ctx}/js/custom/common/springrain.js"></script>
			
			<!-- 图表 -->
			<script src="${ctx}/css/web-static/chart/Chart.min.js"></script> 
				
			<!-- FastClick -->
    		<script src="${ctx}/css/web-static/fastclick/lib/fastclick.js"></script>
				
			<!-- iCheck 表单美化 -->
    		<script src="${ctx}/css/web-static/iCheck/icheck.min.js"></script>
    		<!-- Datatables -->
		    <script src="${ctx}/css/web-static/datatables.net/js/jquery.dataTables.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-buttons/js/buttons.flash.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-buttons/js/buttons.html5.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-buttons/js/buttons.print.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
		    <script src="${ctx}/css/web-static/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
		    <script src="${ctx}/css/web-static/jszip/dist/jszip.min.js"></script>
		    <script src="${ctx}/css/web-static/pdfmake/build/pdfmake.min.js"></script>
		    <script src="${ctx}/css/web-static/pdfmake/build/vfs_fonts.js"></script>
			
			
		<!---->
</#macro>


<!-- ******************  -->
<!-- ********模块宏******  -->
<!-- 适用于某些页面例如使用分页等模块功能调用  -->
<!-- ******************  -->

 分页模块，需要传入参数  
<#macro layPage   page groups="10"  skin="#009688" cont="laypageDiv" formId="searchForm">
    <script>
    	jQuery("#recordsView span").eq(0).html('${page.pageCount}');
    	jQuery("#recordsView span").eq(1).html('${page.totalCount}');
        layui.use(['laypage'], function(){
            var prev = !${page.hasPrev?c}?false:"上一页";
            var next = !${page.hasNext?c}?false:"下一页";
            var settings = {
                    cont:'${cont}',
                    pages:${page.pageCount},
                    curr:${page.pageIndex},
                    groups:${groups},
                    skin:'${skin}',
                    first:1,
                    last:${page.pageCount},
                    prev:prev,
                    next:next,
                    skip:true,
                    jump:function(obj, first){
                        if("${page.pageIndex}"!=obj.curr){
                            $("[name='pageIndex']",$("#${formId}")).val(obj.curr);
                            springrain.commonSubmit("${formId}");
                        }
                    }
            }
            layui.laypage(settings);
        });
    </script>
</#macro>
